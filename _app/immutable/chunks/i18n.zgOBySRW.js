import{a6 as C,ax as ge,ay as _e,ap as L,az as he,U as b,ag as w,aA as N,i as x,w as K,aB as ve,V as me,q as pe,O as z,D as we,P as ye,ah as Te,ai as be,C as xe,B as X,ak as Z,N as J,a2 as Q,E as Se,a1 as Le,aC as Pe,aD as Re,aE as Ee,aF as Ie,e as V,aG as Oe,aH as $e,o as ee,aI as Ae,aa as Be,aJ as De,aK as Ce,a7 as Ne,k as te,aL as Fe,aM as je,S as We}from"./runtime.DTchB4Bm.js";import{c as Me,p as ze}from"./stores.Bx3HfF34.js";import"./legacy.CV2mL5_q.js";import{b as B,g as Ue}from"./entry.BixJk1VE.js";function O(e,t=null,r){if(typeof e!="object"||e===null||C in e)return e;const u=me(e);if(u!==ge&&u!==_e)return e;var i=new Map,f=pe(e),c=L(0);f&&i.set("length",L(e.length));var l;return new Proxy(e,{defineProperty(n,a,s){(!("value"in s)||s.configurable===!1||s.enumerable===!1||s.writable===!1)&&he();var o=i.get(a);return o===void 0?(o=L(s.value),i.set(a,o)):b(o,O(s.value,l)),!0},deleteProperty(n,a){var s=i.get(a);if(s===void 0)a in n&&i.set(a,L(w));else{if(f&&typeof a=="string"){var o=i.get("length"),d=Number(a);Number.isInteger(d)&&d<o.v&&b(o,d)}b(s,w),ne(c)}return!0},get(n,a,s){var h;if(a===C)return e;var o=i.get(a),d=a in n;if(o===void 0&&(!d||(h=N(n,a))!=null&&h.writable)&&(o=L(O(d?n[a]:w,l)),i.set(a,o)),o!==void 0){var g=x(o);return g===w?void 0:g}return Reflect.get(n,a,s)},getOwnPropertyDescriptor(n,a){var s=Reflect.getOwnPropertyDescriptor(n,a);if(s&&"value"in s){var o=i.get(a);o&&(s.value=x(o))}else if(s===void 0){var d=i.get(a),g=d==null?void 0:d.v;if(d!==void 0&&g!==w)return{enumerable:!0,configurable:!0,value:g,writable:!0}}return s},has(n,a){var g;if(a===C)return!0;var s=i.get(a),o=s!==void 0&&s.v!==w||Reflect.has(n,a);if(s!==void 0||K!==null&&(!o||(g=N(n,a))!=null&&g.writable)){s===void 0&&(s=L(o?O(n[a],l):w),i.set(a,s));var d=x(s);if(d===w)return!1}return o},set(n,a,s,o){var y;var d=i.get(a),g=a in n;if(f&&a==="length")for(var h=s;h<d.v;h+=1){var p=i.get(h+"");p!==void 0?b(p,w):h in n&&(p=L(w),i.set(h+"",p))}d===void 0?(!g||(y=N(n,a))!=null&&y.writable)&&(d=L(void 0),b(d,O(s,l)),i.set(a,d)):(g=d.v!==w,b(d,O(s,l)));var _=Reflect.getOwnPropertyDescriptor(n,a);if(_!=null&&_.set&&_.set.call(o,s),!g){if(f&&typeof a=="string"){var v=i.get("length"),R=Number(a);Number.isInteger(R)&&R>=v.v&&b(v,R+1)}ne(c)}return!0},ownKeys(n){x(c);var a=Reflect.ownKeys(n).filter(d=>{var g=i.get(d);return g===void 0||g.v!==w});for(var[s,o]of i)o.v!==w&&!(s in n)&&a.push(s);return a},setPrototypeOf(){ve()}})}function ne(e,t=1){b(e,e.v+t)}function yt(e,t,r,u=null,i=!1){z&&we();var f=e,c=null,l=null,n=null,a=i?Le:0;ye(()=>{if(n===(n=!!t()))return;let s=!1;if(z){const o=f.data===Te;n===o&&(f=be(),xe(f),X(!1),s=!0)}n?(c?Z(c):c=J(()=>r(f)),l&&Q(l,()=>{l=null})):(l?Z(l):u&&(l=J(()=>u(f))),c&&Q(c,()=>{c=null})),s&&X(!0)},a),z&&(f=Se)}function re(e){for(var t=K,r=K;t!==null&&!(t.f&(Oe|$e));)t=t.parent;try{return ee(t),e()}finally{ee(r)}}function Tt(e,t,r,u){var A;var i=(r&Ae)!==0,f=!Be||(r&De)!==0,c=(r&Ce)!==0,l=(r&je)!==0,n=!1,a;c?[a,n]=Me(()=>e[t]):a=e[t];var s=C in e||Ne in e,o=((A=N(e,t))==null?void 0:A.set)??(s&&c&&t in e?m=>e[t]=m:void 0),d=u,g=!0,h=!1,p=()=>(h=!0,g&&(g=!1,l?d=V(u):d=u),d);a===void 0&&u!==void 0&&(o&&f&&Pe(),a=p(),o&&o(a));var _;if(f)_=()=>{var m=e[t];return m===void 0?p():(g=!0,h=!1,m)};else{var v=re(()=>(i?te:Fe)(()=>e[t]));v.f|=Re,_=()=>{var m=x(v);return m!==void 0&&(d=void 0),m===void 0?d:m}}if(!(r&Ee))return _;if(o){var R=e.$$legacy;return function(m,I){return arguments.length>0?((!f||!I||R||n)&&o(I?_():m),m):_()}}var y=!1,E=!1,$=We(a),S=re(()=>te(()=>{var m=_(),I=x($);return y?(y=!1,E=!0,I):(E=!1,$.v=m)}));return i||(S.equals=Ie),function(m,I){if(arguments.length>0){const M=I?x(S):f&&c?O(m):m;return S.equals(M)||(y=!0,b($,M),h&&d!==void 0&&(d=M),V(()=>x(S))),m}return x(S)}}let H;const oe="en",ue=["en","de","uk","ru"];let F=()=>oe;const ke=e=>{typeof e=="function"?F=ae(e):F=ae(()=>e),H!==void 0&&H(F())};function ae(e){return()=>{const t=e();if(!fe(t))throw new Error("languageTag() didn't return a valid language tag. Check your setLanguageTag call");return t}}const qe=e=>{H=e};function fe(e){return ue.includes(e)}const Ye=Object.freeze(Object.defineProperty({__proto__:null,availableLanguageTags:ue,isAvailableLanguageTag:fe,get languageTag(){return F},onSetLanguageTag:qe,setLanguageTag:ke,sourceLanguageTag:oe},Symbol.toStringTag,{value:"Module"}));function Ke(e,t){if(e==="")return"";const r=new URL(e,t).pathname;return r.endsWith("/")?r.slice(0,-1):r}function j(e,t){const r=Xe(e),u=He(r,t),[i,f]=Ge(u);return[i,f]}const G=(e,t,r)=>[t,e,r??""].filter(u=>u!=="/").join("")||"/";function He(e,t){const r=e.replace(t,"");return r.startsWith("/")?r:`/${r}`}function Ge(e){const r=["/.html__data.json","/__data.json"].find(u=>e.endsWith(u));return r?[e.slice(0,-r.length)||"/",r]:[e,void 0]}function Xe(e){try{return decodeURI(e)}catch{return e}}const Ze=e=>({url:t})=>{try{const[r,u]=j(t.pathname,B),i=e.getLanguageFromLocalisedPath(r);if(!i)return t.pathname;const f=e.getCanonicalPath(r,i);return G(f,B,u)}catch{return t.pathname}};function Je(e){return`/${e.split("/").filter(Boolean).join("/")}`}function Qe(e){const t=e.map(r=>typeof r=="string"?u=>u===r:u=>r.test(u));return r=>t.some(u=>u(Je(r)))}const D="rtl",U="ltr";function Ve(e){try{const t=new Intl.Locale(e);return"textInfo"in t?t.textInfo.direction===D?D:U:t.getTextInfo().direction===D?D:U}catch{return U}}function et(e){const t=e.map(r=>[r,Ve(r)]);return Object.fromEntries(t)}const tt=0,ie=1,W=2,nt=4,T=0,P=1,k=2;function rt(e){const t=at(it);return e.sort((r,u)=>{var i,f,c,l,n,a;const s=se(r).map(t),o=se(u).map(t);for(let d=0;d<Math.max(s.length,o.length);d+=1){const g=s[d],h=o[d];if(!g)return-1;if(!h)return 1;for(let p=0;p<Math.max(g.length,h.length);p+=1){const _=g[p],v=h[p];if((_==null?void 0:_[T])||(v==null?void 0:v[T])){if(!_)return-1;if(!v)return 1;const y=((i=g[p+1])==null?void 0:i[P])||((c=(f=s[d+1])==null?void 0:f[0])==null?void 0:c[P]),E=((l=h[p+1])==null?void 0:l[P])||((a=(n=o[d+1])==null?void 0:n[0])==null?void 0:a[P]),$=y&&E,S=y&&!E,A=!y&&E;if((_[T]&&v[T])===W){if($)continue;if(S)return-1;if(A)return 1}if(_[T]===W)return S?-1:1;if(v[T]===W)return A?1:-1;if(_[k]!==v[k])return(-1)**+_[k];if(_[T]!==v[T])return(-1)**+(_[T]>v[T])}else if((_==null?void 0:_[P])!==(v==null?void 0:v[P]))return st(_[P],v[P])}}return r<u?1:-1})}function at(e){const t=new Map;return r=>(t.has(r)||t.set(r,e(r)),t.get(r))}function it(e){const t=[];let r=0;for(;r<=e.length;){const u=e.indexOf("[",r),i=u===-1;if(t.push([tt,e.slice(r,i?void 0:u),!1]),i)break;const f=e[u+1]==="["?ie:e[u+1]==="."?W:nt,c=f===ie?"]]":"]",l=e.indexOf(c,u);if(l===-1)throw new Error(`Invalid route definition ${e}`);const n=e.slice(u,r=l+c.length);t.push([f,n,n.includes("=")])}return t}const se=e=>e.replace(/\[\[[^\]]+\]\](?!$)/g,"").split("/").filter(Boolean);function st(e,t){if(e===t)return 0;let r=0;for(;e[r]===t[r];)r++;return e[r]?t[r]?e[r]<t[r]?-1:1:-1:1}const ot=/^(\[)?(\.\.\.)?(\w+)(?:=(\w+))?(\])?$/;function ut(e){const t=[];return{pattern:e==="/"?/^\/$/:new RegExp(`^${de(e).map(u=>{const i=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(u);if(i)return t.push({name:i[1],matcher:i[2],optional:!1,rest:!0,chained:!0}),"(?:/(.*))?";const f=/^\[\[(\w+)(?:=(\w+))?\]\]$/.exec(u);if(f)return t.push({name:f[1],matcher:f[2],optional:!0,rest:!1,chained:!0}),"(?:/([^/]+))?";if(!u)return;const c=u.split(/\[(.+?)\](?!\])/);return"/"+c.map((n,a)=>{if(a%2){if(n.startsWith("x+"))return q(String.fromCharCode(parseInt(n.slice(2),16)));if(n.startsWith("u+"))return q(String.fromCharCode(...n.slice(2).split("-").map(p=>parseInt(p,16))));const s=ot.exec(n);if(!s)throw new Error(`Invalid param: ${n}`);const[,o,d,g,h]=s;return t.push({name:g,matcher:h,optional:!!o,rest:!!d,chained:d?a===1&&c[0]==="":!1}),d?"(.*?)":o?"([^/]*)?":"([^/]+?)"}return q(n)}).join("")}).join("")}/?$`),params:t}}function ft(e,t,r){const u={},i=e.slice(1),f=i.filter(l=>l!==void 0);let c=0;for(const[l,n]of t.entries()){let a=i[l-c];if(n.chained&&n.rest&&c&&(a=i.slice(l-c,l+1).filter(o=>o).join("/"),c=0),a===void 0){n.rest&&(u[n.name]="");continue}if(n.matcher&&!r[n.matcher])return;if((r[n.matcher]??(()=>!0))(a)){u[n.name]=a;const o=t[l+1],d=i[l+1];o&&!o.rest&&o.optional&&d&&n.chained&&(c=0),!o&&!d&&Object.keys(u).length===f.length&&(c=0);continue}if(n.optional&&n.chained){c++;continue}return}if(!c)return u}function q(e){return e.normalize().replace(/[[\]]/g,"\\$&").replace(/%/g,"%25").replace(/\//g,"%2[Ff]").replace(/\?/g,"%3[Ff]").replace(/#/g,"%23").replace(/[.*+?^${}()|\\]/g,"\\$&")}const ct=/\[(\[)?(\.\.\.)?(\w+?)(?:=(\w+))?\]\]?/g;function ce(e,t){return"/"+de(e).map(r=>r.replace(ct,(u,i,f,c)=>{const l=t[c];if(!l){if(i||f&&l!==void 0)return"";throw new Error(`Missing parameter '${c}' in route ${e}`)}if(l[0]=="/"||l.endsWith("/"))throw new Error(`Parameter '${c}' in route ${e} cannot start or end with a slash`);return l})).filter(Boolean).join("/")}function le(e,t,r){const u=rt(t);for(const i of u){const f=ut(i),c=f.pattern.exec(lt(e));if(!c)continue;const l=ft(c,f.params,r);if(l)return{params:l,id:i}}}const lt=e=>e.endsWith("/")?e.slice(0,-1):e,de=e=>e.slice(1).split("/");function dt(e,t,r,u,i){function f(n){const s=n.split("/")[1];if(e.includes(s)&&(i==="always"||s!==t))return s;if(i==="never")return t}function c(n,a){const s=n.endsWith("/")&&n!=="/";n=s?n.slice(0,-1):n;let o=_t(n,a,r,u);return s&&(o+="/"),(i==="always"||a!==t)&&(o=`/${a}${o}`),o}function l(n,a){const s=n.endsWith("/")&&n!=="/";(i==="always"||a!==t)&&(n=n.replace(`/${a}`,"")||"/");const o=s;n=o?n.slice(0,-1):n;let d=gt(n,a,r,u);return o&&(d+="/"),d}return{getLanguageFromLocalisedPath:f,getLocalisedPath:c,getCanonicalPath:l}}function gt(e,t,r,u){for(const[i,f]of Object.entries(r)){if(!(t in f))continue;const c=f[t];if(!c)continue;const l=le(e,[c],u);if(l)return ce(i,l.params)}return e}function _t(e,t,r,u){const i=le(e,Object.keys(r),u);if(!i)return e;const f=r[i.id];if(!f)return e;const c=f[t];return c?ce(c,i.params):e}function ht(e,t){const r={},u=[],i=e.sourceLanguageTag,f={defaultLanguageTag:i,runtime:e,translations:r,matchers:{},exclude:Qe(u),prefixDefaultLanguage:"never",textDirection:et(e.availableLanguageTags),seo:{noAlternateLinks:!1}},c=dt(e.availableLanguageTags,i,f.translations,f.matchers,f.prefixDefaultLanguage);return Object.freeze(r),Object.freeze(f),{config:f,strategy:c,reroute:()=>Ze(c),handle:()=>{throw new Error("")},getLanguageFromUrl(l){const n=Y(B),[a]=j(l.pathname,n);return f.exclude(a)?f.defaultLanguageTag:c.getLanguageFromLocalisedPath(a)||f.defaultLanguageTag},resolveRoute(l,n=void 0){if(f.exclude(l))return l;const a=Y(B),[s,o]=j(l,a);if(n=n??e.languageTag(),!l.startsWith(a))return l;const d=c.getLocalisedPath(s,n);return G(d,a,o)},route(l){const n=Y(B),[a,s]=j(l,n),d=c.getLanguageFromLocalisedPath(a)||f.defaultLanguageTag,g=c.getCanonicalPath(a,d);return G(g,n,s)}}}function Y(e){return e===""?"":e.startsWith("/")?e:Ke(e,new URL(Ue(ze).url))}const bt=ht(Ye);export{yt as a,O as b,j as c,bt as i,Ke as n,Tt as p,G as s};
