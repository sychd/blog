import{a6 as C,ab as he,ac as ve,ad as L,ae as me,a1 as T,af as w,ag as D,i as x,y as H,ah as pe,m as we,K as ye,l as z,B as be,M as Te,ai as xe,aj as Se,C as Le,Q as Z,ak as J,_ as V,a3 as ee,A as Pe,a2 as Re,al as Ie,am as Ee,an as Oe,ao as $e,e as G,ap as Ae,aq as Be,F as te,ar as je,as as ue,at as Ce,au as De,a7 as Fe,k as ne,av as Ne,aw as Me,$ as We,d as U,ax as ze,b as Ue}from"./runtime.D2PxwkYN.js";import{c as ke,p as qe}from"./stores.Bx21d2kf.js";import"./legacy.CzTh4GO4.js";import{b as B,g as Ye}from"./entry.EB4eLBJ9.js";function O(e,t=null,r){if(typeof e!="object"||e===null||C in e)return e;const u=we(e);if(u!==he&&u!==ve)return e;var i=new Map,f=ye(e),c=L(0);f&&i.set("length",L(e.length));var l;return new Proxy(e,{defineProperty(n,a,s){(!("value"in s)||s.configurable===!1||s.enumerable===!1||s.writable===!1)&&me();var o=i.get(a);return o===void 0?(o=L(s.value),i.set(a,o)):T(o,O(s.value,l)),!0},deleteProperty(n,a){var s=i.get(a);if(s===void 0)a in n&&i.set(a,L(w));else{if(f&&typeof a=="string"){var o=i.get("length"),d=Number(a);Number.isInteger(d)&&d<o.v&&T(o,d)}T(s,w),re(c)}return!0},get(n,a,s){var h;if(a===C)return e;var o=i.get(a),d=a in n;if(o===void 0&&(!d||(h=D(n,a))!=null&&h.writable)&&(o=L(O(d?n[a]:w,l)),i.set(a,o)),o!==void 0){var _=x(o);return _===w?void 0:_}return Reflect.get(n,a,s)},getOwnPropertyDescriptor(n,a){var s=Reflect.getOwnPropertyDescriptor(n,a);if(s&&"value"in s){var o=i.get(a);o&&(s.value=x(o))}else if(s===void 0){var d=i.get(a),_=d==null?void 0:d.v;if(d!==void 0&&_!==w)return{enumerable:!0,configurable:!0,value:_,writable:!0}}return s},has(n,a){var _;if(a===C)return!0;var s=i.get(a),o=s!==void 0&&s.v!==w||Reflect.has(n,a);if(s!==void 0||H!==null&&(!o||(_=D(n,a))!=null&&_.writable)){s===void 0&&(s=L(o?O(n[a],l):w),i.set(a,s));var d=x(s);if(d===w)return!1}return o},set(n,a,s,o){var y;var d=i.get(a),_=a in n;if(f&&a==="length")for(var h=s;h<d.v;h+=1){var p=i.get(h+"");p!==void 0?T(p,w):h in n&&(p=L(w),i.set(h+"",p))}d===void 0?(!_||(y=D(n,a))!=null&&y.writable)&&(d=L(void 0),T(d,O(s,l)),i.set(a,d)):(_=d.v!==w,T(d,O(s,l)));var g=Reflect.getOwnPropertyDescriptor(n,a);if(g!=null&&g.set&&g.set.call(o,s),!_){if(f&&typeof a=="string"){var v=i.get("length"),R=Number(a);Number.isInteger(R)&&R>=v.v&&T(v,R+1)}re(c)}return!0},ownKeys(n){x(c);var a=Reflect.ownKeys(n).filter(d=>{var _=i.get(d);return _===void 0||_.v!==w});for(var[s,o]of i)o.v!==w&&!(s in n)&&a.push(s);return a},setPrototypeOf(){pe()}})}function re(e,t=1){T(e,e.v+t)}function St(e,t,r,u=null,i=!1){z&&be();var f=e,c=null,l=null,n=null,a=i?Re:0;Te(()=>{if(n===(n=!!t()))return;let s=!1;if(z){const o=f.data===xe;n===o&&(f=Se(),Le(f),Z(!1),s=!0)}n?(c?J(c):c=V(()=>r(f)),l&&ee(l,()=>{l=null})):(l?J(l):u&&(l=V(()=>u(f))),c&&ee(c,()=>{c=null})),s&&Z(!0)},a),z&&(f=Pe)}function ae(e){for(var t=H,r=H;t!==null&&!(t.f&(Ae|Be));)t=t.parent;try{return te(t),e()}finally{te(r)}}function Lt(e,t,r,u){var A;var i=(r&je)!==0,f=!ue||(r&Ce)!==0,c=(r&De)!==0,l=(r&Me)!==0,n=!1,a;c?[a,n]=ke(()=>e[t]):a=e[t];var s=C in e||Fe in e,o=((A=D(e,t))==null?void 0:A.set)??(s&&c&&t in e?m=>e[t]=m:void 0),d=u,_=!0,h=!1,p=()=>(h=!0,_&&(_=!1,l?d=G(u):d=u),d);a===void 0&&u!==void 0&&(o&&f&&Ie(),a=p(),o&&o(a));var g;if(f)g=()=>{var m=e[t];return m===void 0?p():(_=!0,h=!1,m)};else{var v=ae(()=>(i?ne:Ne)(()=>e[t]));v.f|=Ee,g=()=>{var m=x(v);return m!==void 0&&(d=void 0),m===void 0?d:m}}if(!(r&Oe))return g;if(o){var R=e.$$legacy;return function(m,E){return arguments.length>0?((!f||!E||R||n)&&o(E?g():m),m):g()}}var y=!1,I=!1,$=We(a),S=ae(()=>ne(()=>{var m=g(),E=x($);return y?(y=!1,I=!0,E):(I=!1,$.v=m)}));return i||(S.equals=$e),function(m,E){if(arguments.length>0){const W=E?x(S):f&&c?O(m):m;return S.equals(W)||(y=!0,T($,W),h&&d!==void 0&&(d=W),G(()=>x(S))),m}return x(S)}}function Pt(e){U===null&&ze(),ue&&U.l!==null?Ke(U).m.push(e):Ue(()=>{const t=G(e);if(typeof t=="function")return t})}function Ke(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}let Q;const fe="en",ce=["en","de","uk","ru"];let F=()=>fe;const He=e=>{typeof e=="function"?F=ie(e):F=ie(()=>e),Q!==void 0&&Q(F())};function ie(e){return()=>{const t=e();if(!le(t))throw new Error("languageTag() didn't return a valid language tag. Check your setLanguageTag call");return t}}const Ge=e=>{Q=e};function le(e){return ce.includes(e)}const Qe=Object.freeze(Object.defineProperty({__proto__:null,availableLanguageTags:ce,isAvailableLanguageTag:le,get languageTag(){return F},onSetLanguageTag:Ge,setLanguageTag:He,sourceLanguageTag:fe},Symbol.toStringTag,{value:"Module"}));function Xe(e,t){if(e==="")return"";const r=new URL(e,t).pathname;return r.endsWith("/")?r.slice(0,-1):r}function N(e,t){const r=Ve(e),u=Ze(r,t),[i,f]=Je(u);return[i,f]}const X=(e,t,r)=>[t,e,r??""].filter(u=>u!=="/").join("")||"/";function Ze(e,t){const r=e.replace(t,"");return r.startsWith("/")?r:`/${r}`}function Je(e){const r=["/.html__data.json","/__data.json"].find(u=>e.endsWith(u));return r?[e.slice(0,-r.length)||"/",r]:[e,void 0]}function Ve(e){try{return decodeURI(e)}catch{return e}}const et=e=>({url:t})=>{try{const[r,u]=N(t.pathname,B),i=e.getLanguageFromLocalisedPath(r);if(!i)return t.pathname;const f=e.getCanonicalPath(r,i);return X(f,B,u)}catch{return t.pathname}};function tt(e){return`/${e.split("/").filter(Boolean).join("/")}`}function nt(e){const t=e.map(r=>typeof r=="string"?u=>u===r:u=>r.test(u));return r=>t.some(u=>u(tt(r)))}const j="rtl",k="ltr";function rt(e){try{const t=new Intl.Locale(e);return"textInfo"in t?t.textInfo.direction===j?j:k:t.getTextInfo().direction===j?j:k}catch{return k}}function at(e){const t=e.map(r=>[r,rt(r)]);return Object.fromEntries(t)}const it=0,se=1,M=2,st=4,b=0,P=1,q=2;function ot(e){const t=ut(ft);return e.sort((r,u)=>{var i,f,c,l,n,a;const s=oe(r).map(t),o=oe(u).map(t);for(let d=0;d<Math.max(s.length,o.length);d+=1){const _=s[d],h=o[d];if(!_)return-1;if(!h)return 1;for(let p=0;p<Math.max(_.length,h.length);p+=1){const g=_[p],v=h[p];if((g==null?void 0:g[b])||(v==null?void 0:v[b])){if(!g)return-1;if(!v)return 1;const y=((i=_[p+1])==null?void 0:i[P])||((c=(f=s[d+1])==null?void 0:f[0])==null?void 0:c[P]),I=((l=h[p+1])==null?void 0:l[P])||((a=(n=o[d+1])==null?void 0:n[0])==null?void 0:a[P]),$=y&&I,S=y&&!I,A=!y&&I;if((g[b]&&v[b])===M){if($)continue;if(S)return-1;if(A)return 1}if(g[b]===M)return S?-1:1;if(v[b]===M)return A?1:-1;if(g[q]!==v[q])return(-1)**+g[q];if(g[b]!==v[b])return(-1)**+(g[b]>v[b])}else if((g==null?void 0:g[P])!==(v==null?void 0:v[P]))return ct(g[P],v[P])}}return r<u?1:-1})}function ut(e){const t=new Map;return r=>(t.has(r)||t.set(r,e(r)),t.get(r))}function ft(e){const t=[];let r=0;for(;r<=e.length;){const u=e.indexOf("[",r),i=u===-1;if(t.push([it,e.slice(r,i?void 0:u),!1]),i)break;const f=e[u+1]==="["?se:e[u+1]==="."?M:st,c=f===se?"]]":"]",l=e.indexOf(c,u);if(l===-1)throw new Error(`Invalid route definition ${e}`);const n=e.slice(u,r=l+c.length);t.push([f,n,n.includes("=")])}return t}const oe=e=>e.replace(/\[\[[^\]]+\]\](?!$)/g,"").split("/").filter(Boolean);function ct(e,t){if(e===t)return 0;let r=0;for(;e[r]===t[r];)r++;return e[r]?t[r]?e[r]<t[r]?-1:1:-1:1}const lt=/^(\[)?(\.\.\.)?(\w+)(?:=(\w+))?(\])?$/;function dt(e){const t=[];return{pattern:e==="/"?/^\/$/:new RegExp(`^${ge(e).map(u=>{const i=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(u);if(i)return t.push({name:i[1],matcher:i[2],optional:!1,rest:!0,chained:!0}),"(?:/(.*))?";const f=/^\[\[(\w+)(?:=(\w+))?\]\]$/.exec(u);if(f)return t.push({name:f[1],matcher:f[2],optional:!0,rest:!1,chained:!0}),"(?:/([^/]+))?";if(!u)return;const c=u.split(/\[(.+?)\](?!\])/);return"/"+c.map((n,a)=>{if(a%2){if(n.startsWith("x+"))return Y(String.fromCharCode(parseInt(n.slice(2),16)));if(n.startsWith("u+"))return Y(String.fromCharCode(...n.slice(2).split("-").map(p=>parseInt(p,16))));const s=lt.exec(n);if(!s)throw new Error(`Invalid param: ${n}`);const[,o,d,_,h]=s;return t.push({name:_,matcher:h,optional:!!o,rest:!!d,chained:d?a===1&&c[0]==="":!1}),d?"(.*?)":o?"([^/]*)?":"([^/]+?)"}return Y(n)}).join("")}).join("")}/?$`),params:t}}function _t(e,t,r){const u={},i=e.slice(1),f=i.filter(l=>l!==void 0);let c=0;for(const[l,n]of t.entries()){let a=i[l-c];if(n.chained&&n.rest&&c&&(a=i.slice(l-c,l+1).filter(o=>o).join("/"),c=0),a===void 0){n.rest&&(u[n.name]="");continue}if(n.matcher&&!r[n.matcher])return;if((r[n.matcher]??(()=>!0))(a)){u[n.name]=a;const o=t[l+1],d=i[l+1];o&&!o.rest&&o.optional&&d&&n.chained&&(c=0),!o&&!d&&Object.keys(u).length===f.length&&(c=0);continue}if(n.optional&&n.chained){c++;continue}return}if(!c)return u}function Y(e){return e.normalize().replace(/[[\]]/g,"\\$&").replace(/%/g,"%25").replace(/\//g,"%2[Ff]").replace(/\?/g,"%3[Ff]").replace(/#/g,"%23").replace(/[.*+?^${}()|\\]/g,"\\$&")}const gt=/\[(\[)?(\.\.\.)?(\w+?)(?:=(\w+))?\]\]?/g;function de(e,t){return"/"+ge(e).map(r=>r.replace(gt,(u,i,f,c)=>{const l=t[c];if(!l){if(i||f&&l!==void 0)return"";throw new Error(`Missing parameter '${c}' in route ${e}`)}if(l[0]=="/"||l.endsWith("/"))throw new Error(`Parameter '${c}' in route ${e} cannot start or end with a slash`);return l})).filter(Boolean).join("/")}function _e(e,t,r){const u=ot(t);for(const i of u){const f=dt(i),c=f.pattern.exec(ht(e));if(!c)continue;const l=_t(c,f.params,r);if(l)return{params:l,id:i}}}const ht=e=>e.endsWith("/")?e.slice(0,-1):e,ge=e=>e.slice(1).split("/");function vt(e,t,r,u,i){function f(n){const s=n.split("/")[1];if(e.includes(s)&&(i==="always"||s!==t))return s;if(i==="never")return t}function c(n,a){const s=n.endsWith("/")&&n!=="/";n=s?n.slice(0,-1):n;let o=pt(n,a,r,u);return s&&(o+="/"),(i==="always"||a!==t)&&(o=`/${a}${o}`),o}function l(n,a){const s=n.endsWith("/")&&n!=="/";(i==="always"||a!==t)&&(n=n.replace(`/${a}`,"")||"/");const o=s;n=o?n.slice(0,-1):n;let d=mt(n,a,r,u);return o&&(d+="/"),d}return{getLanguageFromLocalisedPath:f,getLocalisedPath:c,getCanonicalPath:l}}function mt(e,t,r,u){for(const[i,f]of Object.entries(r)){if(!(t in f))continue;const c=f[t];if(!c)continue;const l=_e(e,[c],u);if(l)return de(i,l.params)}return e}function pt(e,t,r,u){const i=_e(e,Object.keys(r),u);if(!i)return e;const f=r[i.id];if(!f)return e;const c=f[t];return c?de(c,i.params):e}function wt(e,t){const r={},u=[],i=e.sourceLanguageTag,f={defaultLanguageTag:i,runtime:e,translations:r,matchers:{},exclude:nt(u),prefixDefaultLanguage:"never",textDirection:at(e.availableLanguageTags),seo:{noAlternateLinks:!1}},c=vt(e.availableLanguageTags,i,f.translations,f.matchers,f.prefixDefaultLanguage);return Object.freeze(r),Object.freeze(f),{config:f,strategy:c,reroute:()=>et(c),handle:()=>{throw new Error("")},getLanguageFromUrl(l){const n=K(B),[a]=N(l.pathname,n);return f.exclude(a)?f.defaultLanguageTag:c.getLanguageFromLocalisedPath(a)||f.defaultLanguageTag},resolveRoute(l,n=void 0){if(f.exclude(l))return l;const a=K(B),[s,o]=N(l,a);if(n=n??e.languageTag(),!l.startsWith(a))return l;const d=c.getLocalisedPath(s,n);return X(d,a,o)},route(l){const n=K(B),[a,s]=N(l,n),d=c.getLanguageFromLocalisedPath(a)||f.defaultLanguageTag,_=c.getCanonicalPath(a,d);return X(_,n,s)}}}function K(e){return e===""?"":e.startsWith("/")?e:Xe(e,new URL(Ye(qe).url))}const Rt=wt(Qe);export{St as a,O as b,N as c,Rt as i,Xe as n,Pt as o,Lt as p,X as s};
